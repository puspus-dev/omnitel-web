<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<title>My OmniTel Belépés / Regisztráció</title>
</head>
<body>
<h1>My OmniTel</h1>
<h2>Regisztráció</h2>
<input type="password" id="reg-password" placeholder="Jelszó">
<button onclick="registerUser()">Regisztráció</button>
<h2>Belépés</h2>
<input type="password" id="login-password" placeholder="Jelszó">
<button onclick="loginUser()">Belépés</button>
<script>
const selectedNumber = localStorage.getItem('selectedNumber');
if(!selectedNumber){
alert('Előbb válassz egy számot a díjcsomag választásnál!');
window.location.href='dijcsomagok.html';
}


function registerUser() {
const passwordInput = document.getElementById('reg-password').value;
let users = JSON.parse(localStorage.getItem('users') || '{}');
if (users[selectedNumber]) {
alert('Ez a szám már regisztrálva van!');
return;
}
users[selectedNumber] = { password: passwordInput };
localStorage.setItem('users', JSON.stringify(users));
alert('Sikeres regisztráció! Most bejelentkezhetsz.');
}


function loginUser() {
const passwordInput = document.getElementById('login-password').value;
let users = JSON.parse(localStorage.getItem('users') || '{}');
if (!users[selectedNumber] || users[selectedNumber].password !== passwordInput) {
alert('Hibás jelszó!');
return;
}
localStorage.setItem('currentUser', selectedNumber);
window.location.href = 'dashboard.html';
}
</script>
</body>
</html>